/* MICRO-INTERACTIONS & ADVANCED ANIMATIONS*/

/* Smooth page load animation */
@keyframes pageLoad {
  0% {
    opacity: 0;
    transform: scale(0.98);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

.App {
  animation: pageLoad 0.5s ease-out;
}

/* Shimmer loading effect */
@keyframes shimmer {
  0% {
    background-position: -1000px 0;
  }
  100% {
    background-position: 1000px 0;
  }
}

.loading-shimmer {
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.1) 25%,
    rgba(255, 255, 255, 0.3) 50%,
    rgba(255, 255, 255, 0.1) 75%
  );
  background-size: 1000px 100%;
  animation: shimmer 2s infinite;
}

/* Pulse animation for weather icon */
@keyframes pulse {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.8;
    transform: scale(1.05);
  }
}

.weather-icon-large {
  animation: pulse 4s ease-in-out infinite;
}

/* Slide in from right for detail cards */
@keyframes slideInRight {
  from {
    opacity: 0;
    transform: translateX(30px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

.detail-item:nth-child(1) { animation: slideInRight 0.5s ease-out 0.1s backwards; }
.detail-item:nth-child(2) { animation: slideInRight 0.5s ease-out 0.2s backwards; }
.detail-item:nth-child(3) { animation: slideInRight 0.5s ease-out 0.3s backwards; }
.detail-item:nth-child(4) { animation: slideInRight 0.5s ease-out 0.4s backwards; }

/* Fade scale for table rows */
@keyframes fadeScale {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

.forecast-table tbody tr {
  animation: fadeScale 0.4s ease-out;
}

.forecast-table tbody tr:nth-child(1) { animation-delay: 0.05s; }
.forecast-table tbody tr:nth-child(2) { animation-delay: 0.1s; }
.forecast-table tbody tr:nth-child(3) { animation-delay: 0.15s; }
.forecast-table tbody tr:nth-child(4) { animation-delay: 0.2s; }
.forecast-table tbody tr:nth-child(5) { animation-delay: 0.25s; }

/* Bouncing arrow for scroll hint */
@keyframes bounce {
  0%, 20%, 50%, 80%, 100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-10px);
  }
  60% {
    transform: translateY(-5px);
  }
}

.scroll-hint {
  animation: bounce 2s infinite;
}

/* Gradient animation for buttons */
@keyframes gradientShift {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.search-button {
  background-size: 200% 200%;
  animation: gradientShift 3s ease infinite;
}

/* Ripple effect */
.ripple {
  position: relative;
  overflow: hidden;
}

.ripple::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.5);
  transform: translate(-50%, -50%);
  transition: width 0.6s, height 0.6s;
}

.ripple:active::after {
  width: 300px;
  height: 300px;
}

/* Text reveal animation */
@keyframes textReveal {
  from {
    opacity: 0;
    transform: translateY(20px);
    filter: blur(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
    filter: blur(0);
  }
}

.header h1 {
  animation: textReveal 0.8s ease-out;
}

.header p {
  animation: textReveal 0.8s ease-out 0.2s backwards;
}

/* Weather condition specific animations */
@keyframes rainDrop {
  0% {
    transform: translateY(-10px);
    opacity: 0;
  }
  50% {
    opacity: 1;
  }
  100% {
    transform: translateY(10px);
    opacity: 0;
  }
}

@keyframes snowFall {
  0% {
    transform: translateY(-10px) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(10px) rotate(360deg);
    opacity: 0;
  }
}

@keyframes cloudMove {
  0% {
    transform: translateX(-5px);
  }
  50% {
    transform: translateX(5px);
  }
  100% {
    transform: translateX(-5px);
  }
}

/* Apply weather-specific animations dynamically */
.weather-rain .weather-icon-large {
  animation: rainDrop 1s ease-in-out infinite;
}

.weather-snow .weather-icon-large {
  animation: snowFall 3s ease-in-out infinite;
}

.weather-clouds .weather-icon-large {
  animation: cloudMove 4s ease-in-out infinite;
}

/* Number counter animation */
@keyframes countUp {
  from {
    transform: translateY(10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.temp-value,
.detail-value {
  animation: countUp 0.6s ease-out;
}

/* Card entrance stagger */
.search-section { animation: fadeInUp 0.6s ease-out 0.1s backwards; }
.current-weather { animation: fadeInUp 0.6s ease-out 0.2s backwards; }
.forecast-section { animation: fadeInUp 0.6s ease-out 0.3s backwards; }
.history-section { animation: fadeInUp 0.6s ease-out 0.4s backwards; }

/* Smooth color transition for unit toggle */
.unit-button {
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.unit-button.active {
  animation: popIn 0.3s ease-out;
}

@keyframes popIn {
  0% {
    transform: scale(0.9);
  }
  50% {
    transform: scale(1.05);
  }
  100% {
    transform: scale(1);
  }
}

/* Hover lift effect */
.hover-lift {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.hover-lift:hover {
  transform: translateY(-4px);
  box-shadow: 0 12px 24px -8px rgba(0, 0, 0, 0.15);
}

/* Loading dots animation */
@keyframes loadingDots {
  0%, 20% {
    opacity: 0.3;
  }
  50% {
    opacity: 1;
  }
  100% {
    opacity: 0.3;
  }
}

.loading-dots span {
  animation: loadingDots 1.4s infinite;
}

.loading-dots span:nth-child(1) { animation-delay: 0s; }
.loading-dots span:nth-child(2) { animation-delay: 0.2s; }
.loading-dots span:nth-child(3) { animation-delay: 0.4s; }

/* Glow effect on focus */
@keyframes glow {
  0%, 100% {
    box-shadow: 0 0 5px rgba(37, 99, 235, 0.3);
  }
  50% {
    box-shadow: 0 0 20px rgba(37, 99, 235, 0.6);
  }
}

input:focus {
  animation: glow 2s ease-in-out infinite;
}

/* Success check animation */
@keyframes checkmark {
  0% {
    transform: scale(0) rotate(45deg);
  }
  50% {
    transform: scale(1.2) rotate(45deg);
  }
  100% {
    transform: scale(1) rotate(45deg);
  }
}

.success-check {
  animation: checkmark 0.4s ease-out;
}

/* Background gradient animation */
@keyframes gradientBackground {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

body {
  background-size: 200% 200%;
  animation: gradientBackground 15s ease infinite;
}

/* Hover scale for history items */
.history-item {
  transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

.history-item:hover {
  transform: translateY(-3px) scale(1.02);
}

.history-item:active {
  transform: translateY(0) scale(0.98);
}

/* Icon rotation on hover */
.detail-item:hover .detail-icon {
  animation: iconRotate 0.6s ease;
}

@keyframes iconRotate {
  0%, 100% {
    transform: rotate(0deg);
  }
  25% {
    transform: rotate(-10deg);
  }
  75% {
    transform: rotate(10deg);
  }
}

/* Table row highlight sweep */
.forecast-table tbody tr::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  height: 100%;
  width: 0;
  background: linear-gradient(90deg, transparent, rgba(37, 99, 235, 0.1), transparent);
  transition: width 0.4s ease;
}

.forecast-table tbody tr {
  position: relative;
  overflow: hidden;
}

.forecast-table tbody tr:hover::before {
  width: 100%;
}

/* Smooth opacity transitions */
.fade-enter {
  opacity: 0;
}

.fade-enter-active {
  opacity: 1;
  transition: opacity 0.3s ease-in;
}

.fade-exit {
  opacity: 1;
}

.fade-exit-active {
  opacity: 0;
  transition: opacity 0.3s ease-out;
}